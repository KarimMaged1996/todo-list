(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(e){this.name=e,this.todo=[]}addTodo(e){this.todo.push(e)}deleteTodo(e){for(let t of this.todo)(t.title=e)&&this.todo.splice(this.todo.indexOf(t),1)}}class n{constructor(e,t,n,o="",d=!1){this.title=e,this.dueDate=t,this.priority=n,this.discription=o,this.isComplete=d}changeTitle(e){this.title=e}changeDate(e){this.dueDate=e}changePrioirity(e){this.priority=e}changeDiscription(e){this.discription=e}complete(){this.isComplete=!0}}const o=e.p+"ab1ee08131218da1d3b2.svg";function d(e,t){return e.find((e=>e.name===t))}const r=e.p+"2bb171d11d6384c18dfd.svg";function c(e){let t=document.createElement("h1");t.textContent=e.name;let n=document.createElement("div");n.classList.add("addNewTodo");let o=new Image;o.src=r;let d=document.createElement("div");return d.textContent="Add a todo",n.append(o,d),[t,...function(){let t=[];return e.todo.length>0&&e.todo.forEach((e=>{let n=document.createElement("div");n.classList.add("single-todo");let o=document.createElement("div");o.textContent=e.title;let d=document.createElement("div");d.textContent=e.dueDate;let r=document.createElement("div");if(r.textContent=e.priority,""!==e.discription){let t=document.createElement("div");t.textContent=e.discription,n.append(o,d,r,t)}else n.append(o,d,r);t.push(n)})),t}(),n]}const i=[];let l=document.querySelector("#projects");document.querySelector("#newProj").addEventListener("click",(()=>{let e=function(){let e=document.querySelector("#newProj"),t=document.querySelector("#projects");e.remove();let n=function(){let e=document.createElement("div");e.classList.add("tempForm");let t=document.createElement("input");t.setAttribute("type","text");let n=document.createElement("button");n.textContent="Add";let o=document.createElement("button");return o.textContent="Cancel",e.append(t,n,o),e}();return t.append(n),[e,n]}(),n=e[1].children;n[1].addEventListener("click",(()=>{if(""!==n[0].value&&void 0===d(i,n[0].value)){let d=document.createElement("div");d.classList.add("new-project");let r=new Image;r.src=o;let c=document.createElement("div");c.textContent=n[0].value,d.append(r,c),l.append(d,e[0]),e[1].remove(),i.push(new t(n[0].value))}else void 0!==d(i,n[0].value)?(n[0].style.border="solid 0.25vh red",n[0].value="",n[0].setAttribute("placeholder","Duplicate project name")):(n[0].style.border="solid 0.25vh red",n[0].setAttribute("placeholder","project must have a name"))})),n[2].addEventListener("click",(()=>{l.append(e[0]),e[1].remove()}))})),document.addEventListener("click",(e=>{if("new-project"===e.target.getAttribute("class")||"new-project"===e.target.parentNode.getAttribute("class")){let t;t=e.target.children.length>0?e.target.children[1].textContent:e.target.parentNode.children[1].textContent;let n=d(i,t),o=document.querySelector(".todos"),r=Array.from(o.children),l=c(n);r.forEach((e=>{e.remove()})),o.append(...l)}})),function(){let e=function(){let e=document.createElement("div");e.classList.add("todo-input");let t=document.createElement("div"),n=document.createElement("div");n.textContent="Task Name";let o=document.createElement("input");o.setAttribute("type","text"),t.append(n,o);let d=document.createElement("div"),r=document.createElement("div");r.textContent="Due Date";let c=document.createElement("input");c.setAttribute("type","date"),d.append(r,c);let i=document.createElement("div"),l=document.createElement("div");l.textContent="Priority";let a=document.createElement("select"),s=document.createElement("option");s.textContent="Low";let u=document.createElement("option");u.textContent="Medium";let m=document.createElement("option");m.textContent="High",a.append(s,u,m),i.append(l,a);let p=document.createElement("div"),h=document.createElement("div");h.textContent="Discription";let v=document.createElement("input");v.setAttribute("type","textArea"),p.append(h,v);let E=document.createElement("div"),g=document.createElement("button");g.classList.add("addTodoBtn"),g.textContent="Add";let b=document.createElement("button");return b.classList.add("cancelTodoBtn"),b.textContent="Cancel",E.append(g,b),e.append(t,d,i,p,E),e}(),t=e.children[0].children[1],o=e.children[1].children[1],r=e.children[2].children[1],l=e.children[3].children[1];document.addEventListener("click",(t=>{"addNewTodo"!==t.target.getAttribute("class")&&"addNewTodo"!==t.target.parentNode.getAttribute("class")||(document.body.append(e),document.querySelector(".addNewTodo").style.visibility="hidden")})),document.addEventListener("click",(t=>{"cancelTodoBtn"===t.target.getAttribute("class")&&(e.remove(),document.querySelector(".addNewTodo").style.visibility="visible")})),document.addEventListener("click",(a=>{if("addTodoBtn"===a.target.getAttribute("class"))if(""===t.value&&(t.style.border="solid 0.25vh red",t.setAttribute("placeholder","this input is required")),""===o.value)o.style.border="solid 0.25vh red";else{let a=document.querySelector(".todos"),s=a.children[0].textContent,u=d(i,s);u.addTodo(new n(t.value,o.value,r.value,l.value)),Array.from(a.children).forEach((e=>{e.remove()}));let m=c(u);a.append(...m),e.remove()}}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWEsY0FBZSwyQkFFZCxLQUFsQnZDLEVBQVE4QyxNQUNWOUMsRUFBUWlELE1BQU1DLE9BQVMsdUJBQ2xCLENBQ0wsSUFBSTRCLEVBQWdCcEcsU0FBU3VELGNBQWMsVUFDdkNxQixFQUFjd0IsRUFBY2pDLFNBQVMsR0FBR3pCLFlBQ3hDMkQsRUFBY2xFLEVBQVNrQixFQUFpQnVCLEdBQzVDeUIsRUFBWXhGLFFBQ1YsSUFBSVEsRUFDRkosRUFBTW1ELE1BQ045QyxFQUFROEMsTUFDUjdDLEVBQVM2QyxNQUNUNUMsRUFBWTRDLFFBR0VXLE1BQU1DLEtBQUtvQixFQUFjakMsVUFDL0JqQixTQUFTb0QsSUFDbkJBLEVBQU0zQyxRQUFRLElBRWhCLElBQUlzQixFQUFjMUMsRUFBZ0I4RCxHQUNsQ0QsRUFBY3BELFVBQVVpQyxHQUN4QkMsRUFBU3ZCLFFBQ1gsQ0FDRixHQUVILENBMURhLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9Ub2RvLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9mZXRjaExpYnJhcnlBcnJheS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdHNVSS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3NpZGVCYXJVSS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdG9kb0lucHV0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMudG9kbyA9IFtdO1xuICB9XG5cbiAgYWRkVG9kbyhuZXdUb2RvKSB7XG4gICAgdGhpcy50b2RvLnB1c2gobmV3VG9kbyk7XG4gIH1cblxuICBkZWxldGVUb2RvKHRpdGxlKSB7XG4gICAgZm9yIChsZXQgZWxlbSBvZiB0aGlzLnRvZG8pIHtcbiAgICAgIGlmICgoZWxlbS50aXRsZSA9IHRpdGxlKSkge1xuICAgICAgICB0aGlzLnRvZG8uc3BsaWNlKHRoaXMudG9kby5pbmRleE9mKGVsZW0pLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvZG8ge1xuICBjb25zdHJ1Y3Rvcih0aXRsZSwgZHVlRGF0ZSwgcHJpb3JpdHksIGRpc2NyaXB0aW9uID0gJycsIGlzQ29tcGxldGUgPSBmYWxzZSkge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLmRpc2NyaXB0aW9uID0gZGlzY3JpcHRpb247XG4gICAgdGhpcy5pc0NvbXBsZXRlID0gaXNDb21wbGV0ZTtcbiAgfVxuXG4gIGNoYW5nZVRpdGxlKG5ld1RpdGxlKSB7XG4gICAgdGhpcy50aXRsZSA9IG5ld1RpdGxlO1xuICB9XG5cbiAgY2hhbmdlRGF0ZShkYXRlKSB7XG4gICAgdGhpcy5kdWVEYXRlID0gZGF0ZTtcbiAgfVxuXG4gIGNoYW5nZVByaW9pcml0eShuZXdQcmlvcml0eSkge1xuICAgIHRoaXMucHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgfVxuXG4gIGNoYW5nZURpc2NyaXB0aW9uKG5ld0Rpc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5kaXNjcmlwdGlvbiA9IG5ld0Rpc2NyaXB0aW9uO1xuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmV0Y2hBcnIoYXJyLCBuYW1lKSB7XG4gIHJldHVybiBhcnIuZmluZCgocHJvamVjdCkgPT4ge1xuICAgIHJldHVybiBwcm9qZWN0Lm5hbWUgPT09IG5hbWU7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHBsdXNJY29uIGZyb20gJy4vaW1ncy9wbHVzLnN2Zyc7XG5cbi8vIGZ1bmN0aW9uIHRoYXQgd2lsbCB0YWtlIGEgcHJvamVjdCBvYmplY3QgYW5kIGNyZWF0ZSBpdHMgY29udGVudFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdFVJKHByb2plY3QpIHtcbiAgbGV0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gIGhlYWRlci50ZXh0Q29udGVudCA9IHByb2plY3QubmFtZTtcblxuICBmdW5jdGlvbiB0b2Rvc1VJKCkge1xuICAgIGxldCB0b2RvcyA9IFtdO1xuICAgIGlmIChwcm9qZWN0LnRvZG8ubGVuZ3RoID4gMCkge1xuICAgICAgcHJvamVjdC50b2RvLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnc2luZ2xlLXRvZG8nKTtcbiAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gZWxlbS50aXRsZTtcbiAgICAgICAgbGV0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGF0ZS50ZXh0Q29udGVudCA9IGVsZW0uZHVlRGF0ZTtcbiAgICAgICAgbGV0IHByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gZWxlbS5wcmlvcml0eTtcbiAgICAgICAgaWYgKGVsZW0uZGlzY3JpcHRpb24gIT09ICcnKSB7XG4gICAgICAgICAgbGV0IGRpc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgZGlzY3JpcHRpb24udGV4dENvbnRlbnQgPSBlbGVtLmRpc2NyaXB0aW9uO1xuICAgICAgICAgIGRpdi5hcHBlbmQodGl0bGUsIGRhdGUsIHByaW9yaXR5LCBkaXNjcmlwdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGl2LmFwcGVuZCh0aXRsZSwgZGF0ZSwgcHJpb3JpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHRvZG9zLnB1c2goZGl2KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdG9kb3M7XG4gIH1cblxuICBsZXQgbmV3VG9kbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuZXdUb2RvLmNsYXNzTGlzdC5hZGQoJ2FkZE5ld1RvZG8nKTtcbiAgbGV0IGljb24gPSBuZXcgSW1hZ2UoKTtcbiAgaWNvbi5zcmMgPSBwbHVzSWNvbjtcbiAgbGV0IGRpdlRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2VGV4dC50ZXh0Q29udGVudCA9ICdBZGQgYSB0b2RvJztcbiAgbmV3VG9kby5hcHBlbmQoaWNvbiwgZGl2VGV4dCk7XG5cbiAgcmV0dXJuIFtoZWFkZXIsIC4uLnRvZG9zVUkoKSwgbmV3VG9kb107XG59XG4iLCJpbXBvcnQgUHJvamVjdCBmcm9tICcuL3Byb2plY3QnO1xuaW1wb3J0IFRvZG8gZnJvbSAnLi9Ub2RvJztcbmltcG9ydCB7IHJlcGxhY2VBZGRQcm9qIH0gZnJvbSAnLi9zaWRlQmFyVUknO1xuaW1wb3J0IHByb2plY3RJY29uIGZyb20gJy4vaW1ncy9uZXdQcm9qSWNvbi5zdmcnO1xuaW1wb3J0IGZldGNoQXJyIGZyb20gJy4vZmV0Y2hMaWJyYXJ5QXJyYXknO1xuaW1wb3J0IGNyZWF0ZVByb2plY3RVSSBmcm9tICcuL3Byb2plY3RzVUknO1xuaW1wb3J0IGNyZWF0ZVRvZG9Gb3JtIGZyb20gJy4vdG9kb0lucHV0JztcblxuLy8gdGhlIGFycmF5IHRoYXQgd2lsbCBzdG9yZSBhbGwgcHJvamVjdHNcbmNvbnN0IHByb2plY3RzTGlicmFyeSA9IFtdO1xuXG5sZXQgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdHMnKTtcblxuLyogIHRoZSBzaWRlVUkgTW9kdWxlIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgaW5wdXQgdGhhdCB3aWxsIGFwcGVhciBvbiB0aGUgXG5zaWRlQmFyLCBpdCB3aWxsIGNyZWF0ZSBhIG5ldyBwcm9qZWN0IGFuZCBhcHBlbmQgaXQgdG8gdGhlIHByb2plY3RzIGRpdlxuICovXG5jb25zdCBzaWRlVUkgPSAoZnVuY3Rpb24gKCkge1xuICAvL2V2ZW50IGxpc3RlbmVyIGZvciB0aGUgYWRkIG5ldyBwcm9qZWN0IGJ1dHRvblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3UHJvaicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGxldCBuZXdGb3JtID0gcmVwbGFjZUFkZFByb2ooKTtcbiAgICBsZXQgaW5wdXREaXYgPSBuZXdGb3JtWzFdLmNoaWxkcmVuO1xuXG4gICAgLyogZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBhZGQgYnV0dG9uIFxuICAgICAgIGl0IHdpbGwgY3JlYXRlIGEgbmV3IGRpdiBmb3IgdGhlIHByb2plY3QgdGhhdCBoYXMgYW4gaWNvblxuICAgICAgIGFuZCB0aGUgcHJvamVjdCBuYW1lLiBpdCB3aWxsIGNyZWF0ZSBhIG5ldyBQcm9qZWN0IGFuZCBwdXNoIGl0IFxuICAgICAgIHRvIHRoZSBwcm9qZWN0c0xpYnJhcnkgYXJyYXkuIGl0IGFsc28gY2hlY2tzIHRoZSBwcm9qZWN0IG5hbWUgaXNcbiAgICAgICBub3QgZW1wdHlcbiAgICAqL1xuICAgIGlucHV0RGl2WzFdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBpbnB1dERpdlswXS52YWx1ZSAhPT0gJycgJiZcbiAgICAgICAgZmV0Y2hBcnIocHJvamVjdHNMaWJyYXJ5LCBpbnB1dERpdlswXS52YWx1ZSkgPT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIGxldCBuZXdQcm9qID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5ld1Byb2ouY2xhc3NMaXN0LmFkZCgnbmV3LXByb2plY3QnKTtcbiAgICAgICAgbGV0IGljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaWNvbi5zcmMgPSBwcm9qZWN0SWNvbjtcbiAgICAgICAgbGV0IGRpdlRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2VGV4dC50ZXh0Q29udGVudCA9IGlucHV0RGl2WzBdLnZhbHVlO1xuICAgICAgICBuZXdQcm9qLmFwcGVuZChpY29uLCBkaXZUZXh0KTtcbiAgICAgICAgcHJvamVjdHMuYXBwZW5kKG5ld1Byb2osIG5ld0Zvcm1bMF0pO1xuICAgICAgICBuZXdGb3JtWzFdLnJlbW92ZSgpO1xuICAgICAgICBwcm9qZWN0c0xpYnJhcnkucHVzaChuZXcgUHJvamVjdChpbnB1dERpdlswXS52YWx1ZSkpO1xuICAgICAgfSBlbHNlIGlmIChmZXRjaEFycihwcm9qZWN0c0xpYnJhcnksIGlucHV0RGl2WzBdLnZhbHVlKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlucHV0RGl2WzBdLnN0eWxlLmJvcmRlciA9ICdzb2xpZCAwLjI1dmggcmVkJztcbiAgICAgICAgaW5wdXREaXZbMF0udmFsdWUgPSAnJztcbiAgICAgICAgaW5wdXREaXZbMF0uc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdEdXBsaWNhdGUgcHJvamVjdCBuYW1lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dERpdlswXS5zdHlsZS5ib3JkZXIgPSAnc29saWQgMC4yNXZoIHJlZCc7XG4gICAgICAgIGlucHV0RGl2WzBdLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAncHJvamVjdCBtdXN0IGhhdmUgYSBuYW1lJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyogZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBjYW5jZWwgYnV0dG9uIHRoYXQgd2lsbCByZW1vdmUgdGhlIGlucHV0IGRpdiBhbmQgXG4gICAgICAgcmVjcmVhdGUgdGhlIGFkZCBuZXcgcHJvamVjdCBidXR0b25cbiAgICAqL1xuICAgIGlucHV0RGl2WzJdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgcHJvamVjdHMuYXBwZW5kKG5ld0Zvcm1bMF0pO1xuICAgICAgbmV3Rm9ybVsxXS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfSk7XG59KSgpO1xuXG4vL2V2ZW50IGxpc3RlbmVyIGZvciBkeW5hbWljYWxseSBhZGRlZCBwcm9qZWN0c1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAvLyBldmVudCBkZWxlZ2F0aW9uIGNoZWNrIGlmIHRhcmdldCBvciB0YXJnZXQgcGFyZW50IGhhcyB0aGUgY2xhc3MgbmV3LXByb2plY3RcbiAgaWYgKFxuICAgIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PT0gJ25ldy1wcm9qZWN0JyB8fFxuICAgIGUudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAnbmV3LXByb2plY3QnXG4gICkge1xuICAgIGxldCBwcm9qZWN0TmFtZTtcbiAgICAvLyBpZiB0YXJnZXQgd2FzIHRoZSBwYXJlbnQgY29udGFpbmVyIGl0cyBjaGlsZHJlbiBsZW5ndGggPiAwXG4gICAgaWYgKGUudGFyZ2V0LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIHByb2plY3ROYW1lID0gZS50YXJnZXQuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBjYXNlIGlmIHRoZSBjaGlsZCB3YXMgY2xpY2tlZFxuICAgICAgcHJvamVjdE5hbWUgPSBlLnRhcmdldC5wYXJlbnROb2RlLmNoaWxkcmVuWzFdLnRleHRDb250ZW50O1xuICAgIH1cblxuICAgIGxldCBwcm9qZWN0ID0gZmV0Y2hBcnIocHJvamVjdHNMaWJyYXJ5LCBwcm9qZWN0TmFtZSk7XG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvcycpO1xuICAgIGxldCBPbGRjaGlsZHJlbiA9IEFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKTtcbiAgICBsZXQgbmV3Q2hpbGRyZW4gPSBjcmVhdGVQcm9qZWN0VUkocHJvamVjdCk7XG4gICAgT2xkY2hpbGRyZW4uZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICBwYXJlbnQuYXBwZW5kKC4uLm5ld0NoaWxkcmVuKTtcbiAgfVxufSk7XG5cbi8vIG1vZHVsZSByZXNwb25zaWJsZSBmb3IgdGhlIGFkZCB0b2RvXG5jb25zdCB0b2RvcyA9IChmdW5jdGlvbiAoKSB7XG4gIGxldCB0b2RvRm9ybSA9IGNyZWF0ZVRvZG9Gb3JtKCk7XG4gIGxldCB0aXRsZSA9IHRvZG9Gb3JtLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdO1xuICBsZXQgZHVlRGF0ZSA9IHRvZG9Gb3JtLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdO1xuICBsZXQgcHJpb3JpdHkgPSB0b2RvRm9ybS5jaGlsZHJlblsyXS5jaGlsZHJlblsxXTtcbiAgbGV0IGRpc2NyaXB0aW9uID0gdG9kb0Zvcm0uY2hpbGRyZW5bM10uY2hpbGRyZW5bMV07XG5cbiAgLy9ldmVudCBsaXN0aW5lciB0byBwb3AgdXAgYSBmb3JtIHdoZW4gdGhlIGFkZCB0b2RvIGJ1dHRvbiBpcyBjbGlja2VkXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAoXG4gICAgICBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdhZGROZXdUb2RvJyB8fFxuICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdhZGROZXdUb2RvJ1xuICAgICkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodG9kb0Zvcm0pO1xuICAgICAgbGV0IHRvZG9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkTmV3VG9kbycpO1xuICAgICAgdG9kb0J0bi5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgfVxuICB9KTtcbiAgLy9ldmVudCBsaXN0ZW5lciBmb3IgdGhlIGNhbmNlbCBidXR0b25cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdjYW5jZWxUb2RvQnRuJykge1xuICAgICAgdG9kb0Zvcm0ucmVtb3ZlKCk7XG4gICAgICBsZXQgdG9kb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGROZXdUb2RvJyk7XG4gICAgICB0b2RvQnRuLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgfVxuICB9KTtcblxuICAvL2V2ZW50IGxpc3RlbmVyIGZvciB0aGUgYWRkIGJ1dHRvblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PT0gJ2FkZFRvZG9CdG4nKSB7XG4gICAgICBpZiAodGl0bGUudmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHRpdGxlLnN0eWxlLmJvcmRlciA9ICdzb2xpZCAwLjI1dmggcmVkJztcbiAgICAgICAgdGl0bGUuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICd0aGlzIGlucHV0IGlzIHJlcXVpcmVkJyk7XG4gICAgICB9XG4gICAgICBpZiAoZHVlRGF0ZS52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgZHVlRGF0ZS5zdHlsZS5ib3JkZXIgPSAnc29saWQgMC4yNXZoIHJlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJvamVjdFBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvcycpO1xuICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSBwcm9qZWN0UGFyZW50LmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xuICAgICAgICBsZXQgY3VycmVudFByb2ogPSBmZXRjaEFycihwcm9qZWN0c0xpYnJhcnksIHByb2plY3ROYW1lKTtcbiAgICAgICAgY3VycmVudFByb2ouYWRkVG9kbyhcbiAgICAgICAgICBuZXcgVG9kbyhcbiAgICAgICAgICAgIHRpdGxlLnZhbHVlLFxuICAgICAgICAgICAgZHVlRGF0ZS52YWx1ZSxcbiAgICAgICAgICAgIHByaW9yaXR5LnZhbHVlLFxuICAgICAgICAgICAgZGlzY3JpcHRpb24udmFsdWVcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGxldCBPbGRjaGlsZHJlbiA9IEFycmF5LmZyb20ocHJvamVjdFBhcmVudC5jaGlsZHJlbik7XG4gICAgICAgIE9sZGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgY2hpbGQucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbmV3Q2hpbGRyZW4gPSBjcmVhdGVQcm9qZWN0VUkoY3VycmVudFByb2opO1xuICAgICAgICBwcm9qZWN0UGFyZW50LmFwcGVuZCguLi5uZXdDaGlsZHJlbik7XG4gICAgICAgIHRvZG9Gb3JtLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KSgpO1xuIiwiLyogIHRoaXMgbW9kdWxlIHdpbGwgaW5jbHVkZSAzIGZ1bmN0aW9uc1xuMS0gY3JlYXRlTmV3UHJvaiB3aWxsIGNyZWF0ZSB0aGUgZGl2IHRoYXQgdGFrZSBpbnB1dCBmb3IgbmV3IHByb2plY3RcbiBhbmQgcmV0dXJuIGl0XG4yLSByZXBsYWNlQWRkUHJvaiB3aWxsIHJlcGxhY2UgdGhlIGFkZFByb2ogd2l0aCB0aGUgbmV3IGZvcm1cbiBhbmQgcmV0dXJucyB0aGUgYWRkUHJvaiBhbmQgdGhlIGRpdlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdQcm9qRm9ybSgpIHtcbiAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuY2xhc3NMaXN0LmFkZCgndGVtcEZvcm0nKTtcbiAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgbGV0IGJ1dHRvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgYnV0dG9uMS50ZXh0Q29udGVudCA9ICdBZGQnO1xuICBsZXQgYnV0dG9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBidXR0b24yLnRleHRDb250ZW50ID0gJ0NhbmNlbCc7XG4gIGRpdi5hcHBlbmQoaW5wdXQsIGJ1dHRvbjEsIGJ1dHRvbjIpO1xuICByZXR1cm4gZGl2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUFkZFByb2ooKSB7XG4gIGxldCBhZGRQcm9qID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ld1Byb2onKTtcbiAgbGV0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3RzJyk7XG4gIGFkZFByb2oucmVtb3ZlKCk7XG4gIGxldCBuZXdGb3JtID0gY3JlYXRlTmV3UHJvakZvcm0oKTtcbiAgcHJvamVjdHMuYXBwZW5kKG5ld0Zvcm0pO1xuICByZXR1cm4gW2FkZFByb2osIG5ld0Zvcm1dO1xufVxuIiwiLy8gdGhpcyBtb2R1bGUgd2lsbCBjcmVhdGUgdGhlIGZvcm0gdG8gYWRkIHRvZG9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVRvZG9Gb3JtKCkge1xuICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5jbGFzc0xpc3QuYWRkKCd0b2RvLWlucHV0Jyk7XG5cbiAgbGV0IHRhc2tOYW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxldCB0YXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0YXNrTmFtZS50ZXh0Q29udGVudCA9ICdUYXNrIE5hbWUnO1xuICBsZXQgdGFza05hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRhc2tOYW1lSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgdGFza05hbWVEaXYuYXBwZW5kKHRhc2tOYW1lLCB0YXNrTmFtZUlucHV0KTtcblxuICBsZXQgZHVlRGF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkdWVEYXRlLnRleHRDb250ZW50ID0gJ0R1ZSBEYXRlJztcbiAgbGV0IGR1ZURhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGR1ZURhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZGF0ZScpO1xuICBkdWVEYXRlRGl2LmFwcGVuZChkdWVEYXRlLCBkdWVEYXRlSW5wdXQpO1xuXG4gIGxldCBwcmlvcml0eURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSAnUHJpb3JpdHknO1xuICBsZXQgcHJpb3JpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICBsZXQgbG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gIGxvdy50ZXh0Q29udGVudCA9ICdMb3cnO1xuICBsZXQgbWVkaXVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gIG1lZGl1bS50ZXh0Q29udGVudCA9ICdNZWRpdW0nO1xuICBsZXQgaGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICBoaWdoLnRleHRDb250ZW50ID0gJ0hpZ2gnO1xuICBwcmlvcml0eUlucHV0LmFwcGVuZChsb3csIG1lZGl1bSwgaGlnaCk7XG4gIHByaW9yaXR5RGl2LmFwcGVuZChwcmlvcml0eSwgcHJpb3JpdHlJbnB1dCk7XG5cbiAgbGV0IGRpc2NyaXB0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxldCBkaXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXNjcmlwdGlvbi50ZXh0Q29udGVudCA9ICdEaXNjcmlwdGlvbic7XG4gIGxldCBkaXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgZGlzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dEFyZWEnKTtcbiAgZGlzY3JpcHRpb25EaXYuYXBwZW5kKGRpc2NyaXB0aW9uLCBkaXNjcmlwdGlvbklucHV0KTtcblxuICBsZXQgYnV0dG9uc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsZXQgYWRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGFkZC5jbGFzc0xpc3QuYWRkKCdhZGRUb2RvQnRuJyk7XG4gIGFkZC50ZXh0Q29udGVudCA9ICdBZGQnO1xuICBsZXQgY2FuY2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGNhbmNlbC5jbGFzc0xpc3QuYWRkKCdjYW5jZWxUb2RvQnRuJyk7XG4gIGNhbmNlbC50ZXh0Q29udGVudCA9ICdDYW5jZWwnO1xuICBidXR0b25zRGl2LmFwcGVuZChhZGQsIGNhbmNlbCk7XG5cbiAgZGl2LmFwcGVuZCh0YXNrTmFtZURpdiwgZHVlRGF0ZURpdiwgcHJpb3JpdHlEaXYsIGRpc2NyaXB0aW9uRGl2LCBidXR0b25zRGl2KTtcbiAgcmV0dXJuIGRpdjtcbn1cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0b2RvIiwiYWRkVG9kbyIsIm5ld1RvZG8iLCJwdXNoIiwiZGVsZXRlVG9kbyIsInRpdGxlIiwiZWxlbSIsInNwbGljZSIsImluZGV4T2YiLCJUb2RvIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiZGlzY3JpcHRpb24iLCJpc0NvbXBsZXRlIiwiY2hhbmdlVGl0bGUiLCJuZXdUaXRsZSIsImNoYW5nZURhdGUiLCJkYXRlIiwiY2hhbmdlUHJpb2lyaXR5IiwibmV3UHJpb3JpdHkiLCJjaGFuZ2VEaXNjcmlwdGlvbiIsIm5ld0Rpc2NyaXB0aW9uIiwiY29tcGxldGUiLCJmZXRjaEFyciIsImFyciIsImZpbmQiLCJwcm9qZWN0IiwiY3JlYXRlUHJvamVjdFVJIiwiaGVhZGVyIiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaWNvbiIsIkltYWdlIiwiZGl2VGV4dCIsImFwcGVuZCIsInRvZG9zIiwiZm9yRWFjaCIsImRpdiIsInRvZG9zVUkiLCJwcm9qZWN0c0xpYnJhcnkiLCJwcm9qZWN0cyIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwibmV3Rm9ybSIsImFkZFByb2oiLCJyZW1vdmUiLCJpbnB1dCIsInNldEF0dHJpYnV0ZSIsImJ1dHRvbjEiLCJidXR0b24yIiwiY3JlYXRlTmV3UHJvakZvcm0iLCJyZXBsYWNlQWRkUHJvaiIsImlucHV0RGl2IiwiY2hpbGRyZW4iLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIm5ld1Byb2oiLCJzdHlsZSIsImJvcmRlciIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsInBhcmVudE5vZGUiLCJwcm9qZWN0TmFtZSIsInBhcmVudCIsIk9sZGNoaWxkcmVuIiwiQXJyYXkiLCJmcm9tIiwibmV3Q2hpbGRyZW4iLCJ0b2RvRm9ybSIsInRhc2tOYW1lRGl2IiwidGFza05hbWUiLCJ0YXNrTmFtZUlucHV0IiwiZHVlRGF0ZURpdiIsImR1ZURhdGVJbnB1dCIsInByaW9yaXR5RGl2IiwicHJpb3JpdHlJbnB1dCIsImxvdyIsIm1lZGl1bSIsImhpZ2giLCJkaXNjcmlwdGlvbkRpdiIsImRpc2NyaXB0aW9uSW5wdXQiLCJidXR0b25zRGl2IiwiY2FuY2VsIiwiY3JlYXRlVG9kb0Zvcm0iLCJib2R5IiwidmlzaWJpbGl0eSIsInByb2plY3RQYXJlbnQiLCJjdXJyZW50UHJvaiIsImNoaWxkIl0sInNvdXJjZVJvb3QiOiIifQ==