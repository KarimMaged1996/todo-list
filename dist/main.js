(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class t{constructor(e){this.name=e,this.todo=[]}addTodo(e){this.todo.push(e)}deleteTodo(e){for(let t of this.todo)t.title===e&&this.todo.splice(this.todo.indexOf(t),1)}completeTodo(e){for(let t of this.todo)t.title===e&&t.complete()}todoNames(){let e=[];for(let t of this.todo)e.push(t.title);return e}}class n{constructor(e,t,n,o="",d=!1){this.title=e,this.dueDate=t,this.priority=n,this.discription=o,this.isComplete=d}changeTitle(e){this.title=e}changeDate(e){this.dueDate=e}changePrioirity(e){this.priority=e}changeDiscription(e){this.discription=e}complete(){this.isComplete=!0}}const o=e.p+"ab1ee08131218da1d3b2.svg";function d(e,t){return e.find((e=>e.name===t))}const r=e.p+"2bb171d11d6384c18dfd.svg";function l(e){let t=document.createElement("h1");t.textContent=e.name;let n=document.createElement("div");n.classList.add("addNewTodo");let o=new Image;o.src=r;let d=document.createElement("div");return d.textContent="Add a todo",n.append(o,d),[t,...function(){let t=[];return e.todo.length>0&&e.todo.forEach((e=>{let n=document.createElement("div");n.classList.add("single-todo"),!0===e.isComplete&&n.classList.add("green");let o=document.createElement("button");o.textContent="X",o.classList.add("todoDelete");let d=document.createElement("div"),r=document.createElement("div");r.textContent="Title:";let l=document.createElement("div");l.textContent=e.title,d.append(r,l),d.classList.add("todoTitle");let c=document.createElement("div"),i=document.createElement("div");i.textContent="Due Date:";let a=document.createElement("div");a.textContent=e.dueDate,c.append(i,a),c.classList.add("todoDate");let s=document.createElement("div"),u=document.createElement("div");u.textContent="Priority:";let m=document.createElement("div");m.textContent=e.priority,s.append(u,m),s.classList.add("todoPriority");let p=document.createElement("button");if(p.textContent="completed",p.classList.add("todoCompleted"),""!==e.discription){let t=document.createElement("div"),r=document.createElement("div");r.textContent="Discription:";let l=document.createElement("div");l.textContent=e.discription,t.append(r,l),t.classList.add("todoDiscription"),n.append(o,d,c,s,t,p)}else n.append(o,d,c,s,p);t.push(n)})),t}(),n]}const c=[];let i=document.querySelector("#projects");document.querySelector("#newProj").addEventListener("click",(()=>{let e=function(){let e=document.querySelector("#newProj"),t=document.querySelector("#projects");e.remove();let n=function(){let e=document.createElement("div");e.classList.add("tempForm");let t=document.createElement("input");t.setAttribute("type","text");let n=document.createElement("button");n.textContent="Add";let o=document.createElement("button");return o.textContent="Cancel",e.append(t,n,o),e}();return t.append(n),[e,n]}(),n=e[1].children;n[1].addEventListener("click",(()=>{if(""!==n[0].value&&void 0===d(c,n[0].value)){let d=document.createElement("div");d.classList.add("new-project");let r=new Image;r.src=o;let l=document.createElement("div");l.textContent=n[0].value,d.append(r,l),i.append(d,e[0]),e[1].remove(),c.push(new t(n[0].value))}else void 0!==d(c,n[0].value)?(n[0].style.border="solid 0.25vh red",n[0].value="",n[0].setAttribute("placeholder","Duplicate project name")):(n[0].style.border="solid 0.25vh red",n[0].setAttribute("placeholder","project must have a name"))})),n[2].addEventListener("click",(()=>{i.append(e[0]),e[1].remove()}))})),document.addEventListener("click",(e=>{if("new-project"===e.target.getAttribute("class")||"new-project"===e.target.parentNode.getAttribute("class")){let t;t=e.target.children.length>0?e.target.children[1].textContent:e.target.parentElement.children[1].textContent;let n=d(c,t),o=document.querySelector(".todos"),r=Array.from(o.children),i=l(n);r.forEach((e=>{e.remove()})),o.append(...i)}})),function(){let e=function(){let e=document.createElement("div");e.classList.add("todo-input");let t=document.createElement("div"),n=document.createElement("div");n.textContent="Task Name";let o=document.createElement("input");o.setAttribute("type","text"),t.append(n,o);let d=document.createElement("div"),r=document.createElement("div");r.textContent="Due Date";let l=document.createElement("input");l.setAttribute("type","date"),d.append(r,l);let c=document.createElement("div"),i=document.createElement("div");i.textContent="Priority";let a=document.createElement("select"),s=document.createElement("option");s.textContent="Low";let u=document.createElement("option");u.textContent="Medium";let m=document.createElement("option");m.textContent="High",a.append(s,u,m),c.append(i,a);let p=document.createElement("div"),h=document.createElement("div");h.textContent="Discription";let v=document.createElement("input");v.setAttribute("type","textArea"),p.append(h,v);let E=document.createElement("div"),g=document.createElement("button");g.classList.add("addTodoBtn"),g.textContent="Add";let b=document.createElement("button");return b.classList.add("cancelTodoBtn"),b.textContent="Cancel",E.append(g,b),e.append(t,d,c,p,E),e}(),t=e.children[0].children[1],o=e.children[1].children[1],r=e.children[2].children[1],i=e.children[3].children[1];document.addEventListener("click",(t=>{"addNewTodo"!==t.target.getAttribute("class")&&"addNewTodo"!==t.target.parentElement.getAttribute("class")||(document.body.append(e),document.querySelector(".addNewTodo").style.visibility="hidden")})),document.addEventListener("click",(t=>{"cancelTodoBtn"===t.target.getAttribute("class")&&(e.remove(),document.querySelector(".addNewTodo").style.visibility="visible")})),document.addEventListener("click",(a=>{if("addTodoBtn"===a.target.getAttribute("class")){let a=document.querySelector(".todos").children[0].textContent,s=d(c,a).todoNames();if(""===t.value)t.style.border="solid 0.25vh red",t.setAttribute("placeholder","this input is required");else if(s.includes(t.value))t.style.border="solid 0.25vh red",t.value="",t.setAttribute("placeholder","Duplicate Name");else if(""===o.value)o.style.border="solid 0.25vh red";else{let a=document.querySelector(".todos"),s=a.children[0].textContent,u=d(c,s);u.addTodo(new n(t.value,o.value,r.value,i.value)),Array.from(a.children).forEach((e=>{e.remove()}));let m=l(u);a.append(...m),e.remove()}}}))}(),document.addEventListener("click",(e=>{if("todoCompleted"===e.target.getAttribute("class")){e.target.parentElement.classList.add("green");let t=e.target.parentElement.children[1].children[1].textContent,n=e.target.parentElement.parentElement.children[0].textContent;d(c,n).completeTodo(t)}})),document.addEventListener("click",(e=>{if("todoDelete"===e.target.getAttribute("class")){let t=e.target.parentElement.children[1].children[1].textContent,n=e.target.parentElement.parentElement.children[0].textContent;d(c,n).deleteTodo(t),e.target.parentElement.remove()}}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixTQUFVekUsSUFDbEMsR0FBdUMsZUFBbkNBLEVBQUUwRixPQUFPQyxhQUFhLFNBQTJCLENBQ25ELElBQUkrQixFQUNGMUgsRUFBRTBGLE9BQU9JLGNBQWNWLFNBQVMsR0FBR0EsU0FBUyxHQUFHbEMsWUFDN0N5RSxFQUNGM0gsRUFBRTBGLE9BQU9JLGNBQWNBLGNBQWNWLFNBQVMsR0FBR2xDLFlBQ3JDUCxFQUFTMkIsRUFBaUJxRCxHQUNoQ3RHLFdBQVdxRyxHQUNuQjFILEVBQUUwRixPQUFPSSxjQUFjbEIsUUFDekIsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL1RvZG8uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2ZldGNoTGlicmFyeUFycmF5LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0c1VJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2lkZUJhclVJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90b2RvSW5wdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9qZWN0IHtcbiAgY29uc3RydWN0b3IobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy50b2RvID0gW107XG4gIH1cblxuICBhZGRUb2RvKG5ld1RvZG8pIHtcbiAgICB0aGlzLnRvZG8ucHVzaChuZXdUb2RvKTtcbiAgfVxuXG4gIGRlbGV0ZVRvZG8odGl0bGUpIHtcbiAgICBmb3IgKGxldCBlbGVtIG9mIHRoaXMudG9kbykge1xuICAgICAgaWYgKGVsZW0udGl0bGUgPT09IHRpdGxlKSB7XG4gICAgICAgIHRoaXMudG9kby5zcGxpY2UodGhpcy50b2RvLmluZGV4T2YoZWxlbSksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb21wbGV0ZVRvZG8obmFtZSkge1xuICAgIGZvciAobGV0IGVsZW0gb2YgdGhpcy50b2RvKSB7XG4gICAgICBpZiAoZWxlbS50aXRsZSA9PT0gbmFtZSkge1xuICAgICAgICBlbGVtLmNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRvZG9OYW1lcygpIHtcbiAgICBsZXQgbmFtZXMgPSBbXTtcbiAgICBmb3IgKGxldCBlbGVtIG9mIHRoaXMudG9kbykge1xuICAgICAgbmFtZXMucHVzaChlbGVtLnRpdGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUb2RvIHtcbiAgY29uc3RydWN0b3IodGl0bGUsIGR1ZURhdGUsIHByaW9yaXR5LCBkaXNjcmlwdGlvbiA9ICcnLCBpc0NvbXBsZXRlID0gZmFsc2UpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgdGhpcy5kaXNjcmlwdGlvbiA9IGRpc2NyaXB0aW9uO1xuICAgIHRoaXMuaXNDb21wbGV0ZSA9IGlzQ29tcGxldGU7XG4gIH1cblxuICBjaGFuZ2VUaXRsZShuZXdUaXRsZSkge1xuICAgIHRoaXMudGl0bGUgPSBuZXdUaXRsZTtcbiAgfVxuXG4gIGNoYW5nZURhdGUoZGF0ZSkge1xuICAgIHRoaXMuZHVlRGF0ZSA9IGRhdGU7XG4gIH1cblxuICBjaGFuZ2VQcmlvaXJpdHkobmV3UHJpb3JpdHkpIHtcbiAgICB0aGlzLnByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gIH1cblxuICBjaGFuZ2VEaXNjcmlwdGlvbihuZXdEaXNjcmlwdGlvbikge1xuICAgIHRoaXMuZGlzY3JpcHRpb24gPSBuZXdEaXNjcmlwdGlvbjtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZldGNoQXJyKGFyciwgbmFtZSkge1xuICByZXR1cm4gYXJyLmZpbmQoKHByb2plY3QpID0+IHtcbiAgICByZXR1cm4gcHJvamVjdC5uYW1lID09PSBuYW1lO1xuICB9KTtcbn1cbiIsImltcG9ydCBwbHVzSWNvbiBmcm9tICcuL2ltZ3MvcGx1cy5zdmcnO1xuXG4vLyBmdW5jdGlvbiB0aGF0IHdpbGwgdGFrZSBhIHByb2plY3Qgb2JqZWN0IGFuZCBjcmVhdGUgaXRzIGNvbnRlbnRcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RVSShwcm9qZWN0KSB7XG4gIGxldCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICBoZWFkZXIudGV4dENvbnRlbnQgPSBwcm9qZWN0Lm5hbWU7XG5cbiAgLy90aGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIHRoZSBjb250ZW50cyBvZiBhIHRvZG8gaWYgdGhlIHByb2plY3QgaGFzIHRvZG9zXG4gIGZ1bmN0aW9uIHRvZG9zVUkoKSB7XG4gICAgbGV0IHRvZG9zID0gW107XG4gICAgaWYgKHByb2plY3QudG9kby5sZW5ndGggPiAwKSB7XG4gICAgICBwcm9qZWN0LnRvZG8uZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdzaW5nbGUtdG9kbycpO1xuICAgICAgICBpZiAoZWxlbS5pc0NvbXBsZXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ2dyZWVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkZWxldGVCdG4udGV4dENvbnRlbnQgPSAnWCc7XG4gICAgICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCd0b2RvRGVsZXRlJyk7XG4gICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZXQgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBuYW1lLnRleHRDb250ZW50ID0gJ1RpdGxlOic7XG4gICAgICAgIGxldCByZWFsTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByZWFsTmFtZS50ZXh0Q29udGVudCA9IGVsZW0udGl0bGU7XG4gICAgICAgIHRpdGxlLmFwcGVuZChuYW1lLCByZWFsTmFtZSk7XG4gICAgICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RvZG9UaXRsZScpOyAvL2NsYXNzIGZvciB0aXRsZVxuICAgICAgICBsZXQgZGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZXQgZGF0ZU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGF0ZU5hbWUudGV4dENvbnRlbnQgPSAnRHVlIERhdGU6JztcbiAgICAgICAgbGV0IHJlYWxEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJlYWxEYXRlLnRleHRDb250ZW50ID0gZWxlbS5kdWVEYXRlO1xuICAgICAgICBkYXRlLmFwcGVuZChkYXRlTmFtZSwgcmVhbERhdGUpO1xuICAgICAgICBkYXRlLmNsYXNzTGlzdC5hZGQoJ3RvZG9EYXRlJyk7IC8vIGNsYXNzIGZvciBkYXRlXG4gICAgICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZXQgcHJpb3JpdHlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHByaW9yaXR5TmFtZS50ZXh0Q29udGVudCA9ICdQcmlvcml0eTonO1xuICAgICAgICBsZXQgcmVhbFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJlYWxQcmlvcml0eS50ZXh0Q29udGVudCA9IGVsZW0ucHJpb3JpdHk7XG4gICAgICAgIHByaW9yaXR5LmFwcGVuZChwcmlvcml0eU5hbWUsIHJlYWxQcmlvcml0eSk7XG4gICAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ3RvZG9Qcmlvcml0eScpO1xuICAgICAgICBsZXQgY29tcGxldGVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGNvbXBsZXRlZC50ZXh0Q29udGVudCA9ICdjb21wbGV0ZWQnO1xuICAgICAgICBjb21wbGV0ZWQuY2xhc3NMaXN0LmFkZCgndG9kb0NvbXBsZXRlZCcpO1xuICAgICAgICBpZiAoZWxlbS5kaXNjcmlwdGlvbiAhPT0gJycpIHtcbiAgICAgICAgICBsZXQgZGlzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBsZXQgZGlzY3JpcHRpb25OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgZGlzY3JpcHRpb25OYW1lLnRleHRDb250ZW50ID0gJ0Rpc2NyaXB0aW9uOic7XG4gICAgICAgICAgbGV0IHJlYWxEaXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIHJlYWxEaXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGVsZW0uZGlzY3JpcHRpb247XG4gICAgICAgICAgZGlzY3JpcHRpb24uYXBwZW5kKGRpc2NyaXB0aW9uTmFtZSwgcmVhbERpc2NyaXB0aW9uKTtcbiAgICAgICAgICBkaXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKCd0b2RvRGlzY3JpcHRpb24nKTtcbiAgICAgICAgICBkaXYuYXBwZW5kKGRlbGV0ZUJ0biwgdGl0bGUsIGRhdGUsIHByaW9yaXR5LCBkaXNjcmlwdGlvbiwgY29tcGxldGVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXYuYXBwZW5kKGRlbGV0ZUJ0biwgdGl0bGUsIGRhdGUsIHByaW9yaXR5LCBjb21wbGV0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHRvZG9zLnB1c2goZGl2KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdG9kb3M7XG4gIH1cblxuICBsZXQgbmV3VG9kbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuZXdUb2RvLmNsYXNzTGlzdC5hZGQoJ2FkZE5ld1RvZG8nKTtcbiAgbGV0IGljb24gPSBuZXcgSW1hZ2UoKTtcbiAgaWNvbi5zcmMgPSBwbHVzSWNvbjtcbiAgbGV0IGRpdlRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2VGV4dC50ZXh0Q29udGVudCA9ICdBZGQgYSB0b2RvJztcbiAgbmV3VG9kby5hcHBlbmQoaWNvbiwgZGl2VGV4dCk7XG5cbiAgcmV0dXJuIFtoZWFkZXIsIC4uLnRvZG9zVUkoKSwgbmV3VG9kb107XG59XG4iLCJpbXBvcnQgUHJvamVjdCBmcm9tICcuL3Byb2plY3QnO1xuaW1wb3J0IFRvZG8gZnJvbSAnLi9Ub2RvJztcbmltcG9ydCB7IHJlcGxhY2VBZGRQcm9qIH0gZnJvbSAnLi9zaWRlQmFyVUknO1xuaW1wb3J0IHByb2plY3RJY29uIGZyb20gJy4vaW1ncy9uZXdQcm9qSWNvbi5zdmcnO1xuaW1wb3J0IGZldGNoQXJyIGZyb20gJy4vZmV0Y2hMaWJyYXJ5QXJyYXknO1xuaW1wb3J0IGNyZWF0ZVByb2plY3RVSSBmcm9tICcuL3Byb2plY3RzVUknO1xuaW1wb3J0IGNyZWF0ZVRvZG9Gb3JtIGZyb20gJy4vdG9kb0lucHV0JztcblxuLy8gdGhlIGFycmF5IHRoYXQgd2lsbCBzdG9yZSBhbGwgcHJvamVjdHNcbmNvbnN0IHByb2plY3RzTGlicmFyeSA9IFtdO1xuXG5sZXQgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdHMnKTtcblxuLyogIHRoZSBzaWRlVUkgTW9kdWxlIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgaW5wdXQgdGhhdCB3aWxsIGFwcGVhciBvbiB0aGUgXG5zaWRlQmFyLCBpdCB3aWxsIGNyZWF0ZSBhIG5ldyBwcm9qZWN0IGFuZCBhcHBlbmQgaXQgdG8gdGhlIHByb2plY3RzIGRpdlxuICovXG5jb25zdCBzaWRlVUkgPSAoZnVuY3Rpb24gKCkge1xuICAvL2V2ZW50IGxpc3RlbmVyIGZvciB0aGUgYWRkIG5ldyBwcm9qZWN0IGJ1dHRvblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3UHJvaicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGxldCBuZXdGb3JtID0gcmVwbGFjZUFkZFByb2ooKTtcbiAgICBsZXQgaW5wdXREaXYgPSBuZXdGb3JtWzFdLmNoaWxkcmVuO1xuXG4gICAgLyogZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBhZGQgYnV0dG9uIFxuICAgICAgIGl0IHdpbGwgY3JlYXRlIGEgbmV3IGRpdiBmb3IgdGhlIHByb2plY3QgdGhhdCBoYXMgYW4gaWNvblxuICAgICAgIGFuZCB0aGUgcHJvamVjdCBuYW1lLiBpdCB3aWxsIGNyZWF0ZSBhIG5ldyBQcm9qZWN0IGFuZCBwdXNoIGl0IFxuICAgICAgIHRvIHRoZSBwcm9qZWN0c0xpYnJhcnkgYXJyYXkuIGl0IGFsc28gY2hlY2tzIHRoZSBwcm9qZWN0IG5hbWUgaXNcbiAgICAgICBub3QgZW1wdHlcbiAgICAqL1xuICAgIGlucHV0RGl2WzFdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBpbnB1dERpdlswXS52YWx1ZSAhPT0gJycgJiZcbiAgICAgICAgZmV0Y2hBcnIocHJvamVjdHNMaWJyYXJ5LCBpbnB1dERpdlswXS52YWx1ZSkgPT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIGxldCBuZXdQcm9qID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5ld1Byb2ouY2xhc3NMaXN0LmFkZCgnbmV3LXByb2plY3QnKTtcbiAgICAgICAgbGV0IGljb24gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaWNvbi5zcmMgPSBwcm9qZWN0SWNvbjtcbiAgICAgICAgbGV0IGRpdlRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2VGV4dC50ZXh0Q29udGVudCA9IGlucHV0RGl2WzBdLnZhbHVlO1xuICAgICAgICBuZXdQcm9qLmFwcGVuZChpY29uLCBkaXZUZXh0KTtcbiAgICAgICAgcHJvamVjdHMuYXBwZW5kKG5ld1Byb2osIG5ld0Zvcm1bMF0pO1xuICAgICAgICBuZXdGb3JtWzFdLnJlbW92ZSgpO1xuICAgICAgICBwcm9qZWN0c0xpYnJhcnkucHVzaChuZXcgUHJvamVjdChpbnB1dERpdlswXS52YWx1ZSkpO1xuICAgICAgfSBlbHNlIGlmIChmZXRjaEFycihwcm9qZWN0c0xpYnJhcnksIGlucHV0RGl2WzBdLnZhbHVlKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlucHV0RGl2WzBdLnN0eWxlLmJvcmRlciA9ICdzb2xpZCAwLjI1dmggcmVkJztcbiAgICAgICAgaW5wdXREaXZbMF0udmFsdWUgPSAnJztcbiAgICAgICAgaW5wdXREaXZbMF0uc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdEdXBsaWNhdGUgcHJvamVjdCBuYW1lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dERpdlswXS5zdHlsZS5ib3JkZXIgPSAnc29saWQgMC4yNXZoIHJlZCc7XG4gICAgICAgIGlucHV0RGl2WzBdLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAncHJvamVjdCBtdXN0IGhhdmUgYSBuYW1lJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyogZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBjYW5jZWwgYnV0dG9uIHRoYXQgd2lsbCByZW1vdmUgdGhlIGlucHV0IGRpdiBhbmQgXG4gICAgICAgcmVjcmVhdGUgdGhlIGFkZCBuZXcgcHJvamVjdCBidXR0b25cbiAgICAqL1xuICAgIGlucHV0RGl2WzJdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgcHJvamVjdHMuYXBwZW5kKG5ld0Zvcm1bMF0pO1xuICAgICAgbmV3Rm9ybVsxXS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfSk7XG59KSgpO1xuXG4vL2V2ZW50IGxpc3RlbmVyIGZvciBkeW5hbWljYWxseSBhZGRlZCBwcm9qZWN0c1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAvLyBldmVudCBkZWxlZ2F0aW9uIGNoZWNrIGlmIHRhcmdldCBvciB0YXJnZXQgcGFyZW50IGhhcyB0aGUgY2xhc3MgbmV3LXByb2plY3RcbiAgaWYgKFxuICAgIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PT0gJ25ldy1wcm9qZWN0JyB8fFxuICAgIGUudGFyZ2V0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAnbmV3LXByb2plY3QnXG4gICkge1xuICAgIGxldCBwcm9qZWN0TmFtZTtcbiAgICAvLyBpZiB0YXJnZXQgd2FzIHRoZSBwYXJlbnQgY29udGFpbmVyIGl0cyBjaGlsZHJlbiBsZW5ndGggPiAwXG4gICAgaWYgKGUudGFyZ2V0LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIHByb2plY3ROYW1lID0gZS50YXJnZXQuY2hpbGRyZW5bMV0udGV4dENvbnRlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBjYXNlIGlmIHRoZSBjaGlsZCB3YXMgY2xpY2tlZFxuICAgICAgcHJvamVjdE5hbWUgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzFdLnRleHRDb250ZW50O1xuICAgIH1cblxuICAgIGxldCBwcm9qZWN0ID0gZmV0Y2hBcnIocHJvamVjdHNMaWJyYXJ5LCBwcm9qZWN0TmFtZSk7XG4gICAgbGV0IHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvcycpO1xuICAgIGxldCBPbGRjaGlsZHJlbiA9IEFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKTtcbiAgICBsZXQgbmV3Q2hpbGRyZW4gPSBjcmVhdGVQcm9qZWN0VUkocHJvamVjdCk7XG4gICAgT2xkY2hpbGRyZW4uZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICBwYXJlbnQuYXBwZW5kKC4uLm5ld0NoaWxkcmVuKTtcbiAgfVxufSk7XG5cbi8vIG1vZHVsZSByZXNwb25zaWJsZSBmb3IgdGhlIGFkZCB0b2RvXG5jb25zdCB0b2RvcyA9IChmdW5jdGlvbiAoKSB7XG4gIGxldCB0b2RvRm9ybSA9IGNyZWF0ZVRvZG9Gb3JtKCk7XG4gIGxldCB0aXRsZSA9IHRvZG9Gb3JtLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdO1xuICBsZXQgZHVlRGF0ZSA9IHRvZG9Gb3JtLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdO1xuICBsZXQgcHJpb3JpdHkgPSB0b2RvRm9ybS5jaGlsZHJlblsyXS5jaGlsZHJlblsxXTtcbiAgbGV0IGRpc2NyaXB0aW9uID0gdG9kb0Zvcm0uY2hpbGRyZW5bM10uY2hpbGRyZW5bMV07XG5cbiAgLy9ldmVudCBsaXN0aW5lciB0byBwb3AgdXAgYSBmb3JtIHdoZW4gdGhlIGFkZCB0b2RvIGJ1dHRvbiBpcyBjbGlja2VkXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAoXG4gICAgICBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdhZGROZXdUb2RvJyB8fFxuICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdhZGROZXdUb2RvJ1xuICAgICkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodG9kb0Zvcm0pO1xuICAgICAgbGV0IHRvZG9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkTmV3VG9kbycpO1xuICAgICAgdG9kb0J0bi5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgfVxuICB9KTtcbiAgLy9ldmVudCBsaXN0ZW5lciBmb3IgdGhlIGNhbmNlbCBidXR0b25cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgPT09ICdjYW5jZWxUb2RvQnRuJykge1xuICAgICAgdG9kb0Zvcm0ucmVtb3ZlKCk7XG4gICAgICBsZXQgdG9kb0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGROZXdUb2RvJyk7XG4gICAgICB0b2RvQnRuLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgfVxuICB9KTtcblxuICAvL2V2ZW50IGxpc3RlbmVyIGZvciB0aGUgYWRkIGJ1dHRvblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PT0gJ2FkZFRvZG9CdG4nKSB7XG4gICAgICBsZXQgcHJvamVjdFBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvcycpO1xuICAgICAgbGV0IHByb2plY3ROYW1lID0gcHJvamVjdFBhcmVudC5jaGlsZHJlblswXS50ZXh0Q29udGVudDtcbiAgICAgIGxldCBjdXJyZW50UHJvaiA9IGZldGNoQXJyKHByb2plY3RzTGlicmFyeSwgcHJvamVjdE5hbWUpO1xuICAgICAgbGV0IG5hbWVzID0gY3VycmVudFByb2oudG9kb05hbWVzKCk7IC8vIG5hbWVzIG9mIGV4aXN0aW5nIHRvZG9zXG5cbiAgICAgIC8vIGNoZWNrIGlmIHRoZSB0aXRsZSBpcyBlbXB0eVxuICAgICAgaWYgKHRpdGxlLnZhbHVlID09PSAnJykge1xuICAgICAgICB0aXRsZS5zdHlsZS5ib3JkZXIgPSAnc29saWQgMC4yNXZoIHJlZCc7XG4gICAgICAgIHRpdGxlLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAndGhpcyBpbnB1dCBpcyByZXF1aXJlZCcpO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSB0aXRsZSBpcyBkdXBsaWNhdGVkXG4gICAgICB9IGVsc2UgaWYgKG5hbWVzLmluY2x1ZGVzKHRpdGxlLnZhbHVlKSkge1xuICAgICAgICB0aXRsZS5zdHlsZS5ib3JkZXIgPSAnc29saWQgMC4yNXZoIHJlZCc7XG4gICAgICAgIHRpdGxlLnZhbHVlID0gJyc7XG4gICAgICAgIHRpdGxlLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnRHVwbGljYXRlIE5hbWUnKTtcblxuICAgICAgICAvLyBjaGVjayBpZiBkYXRlIGlzIGVtcHR5XG4gICAgICB9IGVsc2UgaWYgKGR1ZURhdGUudmFsdWUgPT09ICcnKSB7XG4gICAgICAgIGR1ZURhdGUuc3R5bGUuYm9yZGVyID0gJ3NvbGlkIDAuMjV2aCByZWQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHByb2plY3RQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb3MnKTtcbiAgICAgICAgbGV0IHByb2plY3ROYW1lID0gcHJvamVjdFBhcmVudC5jaGlsZHJlblswXS50ZXh0Q29udGVudDtcbiAgICAgICAgbGV0IGN1cnJlbnRQcm9qID0gZmV0Y2hBcnIocHJvamVjdHNMaWJyYXJ5LCBwcm9qZWN0TmFtZSk7XG4gICAgICAgIGN1cnJlbnRQcm9qLmFkZFRvZG8oXG4gICAgICAgICAgbmV3IFRvZG8oXG4gICAgICAgICAgICB0aXRsZS52YWx1ZSxcbiAgICAgICAgICAgIGR1ZURhdGUudmFsdWUsXG4gICAgICAgICAgICBwcmlvcml0eS52YWx1ZSxcbiAgICAgICAgICAgIGRpc2NyaXB0aW9uLnZhbHVlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBsZXQgT2xkY2hpbGRyZW4gPSBBcnJheS5mcm9tKHByb2plY3RQYXJlbnQuY2hpbGRyZW4pO1xuICAgICAgICBPbGRjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IG5ld0NoaWxkcmVuID0gY3JlYXRlUHJvamVjdFVJKGN1cnJlbnRQcm9qKTtcbiAgICAgICAgcHJvamVjdFBhcmVudC5hcHBlbmQoLi4ubmV3Q2hpbGRyZW4pO1xuICAgICAgICB0b2RvRm9ybS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSkoKTtcblxuY29uc3QgdG9kb0Z1bmN0aW9uYWxpdHkgPSAoZnVuY3Rpb24gKCkge1xuICAvL2V2ZW50IGZvciBjb21wbGV0ZSBidXRvblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSA9PT0gJ3RvZG9Db21wbGV0ZWQnKSB7XG4gICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2dyZWVuJyk7XG4gICAgICBsZXQgdG9kb1RpdGxlID1cbiAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS50ZXh0Q29udGVudDtcbiAgICAgIGxldCBwcm9qZWN0VGl0bGUgPVxuICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQ7XG4gICAgICBsZXQgcHJvamVjdCA9IGZldGNoQXJyKHByb2plY3RzTGlicmFyeSwgcHJvamVjdFRpdGxlKTtcbiAgICAgIHByb2plY3QuY29tcGxldGVUb2RvKHRvZG9UaXRsZSk7XG4gICAgfVxuICB9KTtcblxuICAvL2V2ZW50IGZvciBkZWxldGUgYnV0dG9uXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSAndG9kb0RlbGV0ZScpIHtcbiAgICAgIGxldCB0b2RvVGl0bGUgPVxuICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdLnRleHRDb250ZW50O1xuICAgICAgbGV0IHByb2plY3RUaXRsZSA9XG4gICAgICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlblswXS50ZXh0Q29udGVudDtcbiAgICAgIGxldCBwcm9qZWN0ID0gZmV0Y2hBcnIocHJvamVjdHNMaWJyYXJ5LCBwcm9qZWN0VGl0bGUpO1xuICAgICAgcHJvamVjdC5kZWxldGVUb2RvKHRvZG9UaXRsZSk7XG4gICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuIiwiLyogIHRoaXMgbW9kdWxlIHdpbGwgaW5jbHVkZSAzIGZ1bmN0aW9uc1xuMS0gY3JlYXRlTmV3UHJvaiB3aWxsIGNyZWF0ZSB0aGUgZGl2IHRoYXQgdGFrZSBpbnB1dCBmb3IgbmV3IHByb2plY3RcbiBhbmQgcmV0dXJuIGl0XG4yLSByZXBsYWNlQWRkUHJvaiB3aWxsIHJlcGxhY2UgdGhlIGFkZFByb2ogd2l0aCB0aGUgbmV3IGZvcm1cbiBhbmQgcmV0dXJucyB0aGUgYWRkUHJvaiBhbmQgdGhlIGRpdlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdQcm9qRm9ybSgpIHtcbiAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuY2xhc3NMaXN0LmFkZCgndGVtcEZvcm0nKTtcbiAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgbGV0IGJ1dHRvbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgYnV0dG9uMS50ZXh0Q29udGVudCA9ICdBZGQnO1xuICBsZXQgYnV0dG9uMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBidXR0b24yLnRleHRDb250ZW50ID0gJ0NhbmNlbCc7XG4gIGRpdi5hcHBlbmQoaW5wdXQsIGJ1dHRvbjEsIGJ1dHRvbjIpO1xuICByZXR1cm4gZGl2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUFkZFByb2ooKSB7XG4gIGxldCBhZGRQcm9qID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ld1Byb2onKTtcbiAgbGV0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3RzJyk7XG4gIGFkZFByb2oucmVtb3ZlKCk7XG4gIGxldCBuZXdGb3JtID0gY3JlYXRlTmV3UHJvakZvcm0oKTtcbiAgcHJvamVjdHMuYXBwZW5kKG5ld0Zvcm0pO1xuICByZXR1cm4gW2FkZFByb2osIG5ld0Zvcm1dO1xufVxuIiwiLy8gdGhpcyBtb2R1bGUgd2lsbCBjcmVhdGUgdGhlIGZvcm0gdG8gYWRkIHRvZG9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVRvZG9Gb3JtKCkge1xuICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5jbGFzc0xpc3QuYWRkKCd0b2RvLWlucHV0Jyk7XG5cbiAgbGV0IHRhc2tOYW1lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxldCB0YXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0YXNrTmFtZS50ZXh0Q29udGVudCA9ICdUYXNrIE5hbWUnO1xuICBsZXQgdGFza05hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRhc2tOYW1lSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgdGFza05hbWVEaXYuYXBwZW5kKHRhc2tOYW1lLCB0YXNrTmFtZUlucHV0KTtcblxuICBsZXQgZHVlRGF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsZXQgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkdWVEYXRlLnRleHRDb250ZW50ID0gJ0R1ZSBEYXRlJztcbiAgbGV0IGR1ZURhdGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGR1ZURhdGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZGF0ZScpO1xuICBkdWVEYXRlRGl2LmFwcGVuZChkdWVEYXRlLCBkdWVEYXRlSW5wdXQpO1xuXG4gIGxldCBwcmlvcml0eURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsZXQgcHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSAnUHJpb3JpdHknO1xuICBsZXQgcHJpb3JpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICBsZXQgbG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gIGxvdy50ZXh0Q29udGVudCA9ICdMb3cnO1xuICBsZXQgbWVkaXVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gIG1lZGl1bS50ZXh0Q29udGVudCA9ICdNZWRpdW0nO1xuICBsZXQgaGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICBoaWdoLnRleHRDb250ZW50ID0gJ0hpZ2gnO1xuICBwcmlvcml0eUlucHV0LmFwcGVuZChsb3csIG1lZGl1bSwgaGlnaCk7XG4gIHByaW9yaXR5RGl2LmFwcGVuZChwcmlvcml0eSwgcHJpb3JpdHlJbnB1dCk7XG5cbiAgbGV0IGRpc2NyaXB0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxldCBkaXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXNjcmlwdGlvbi50ZXh0Q29udGVudCA9ICdEaXNjcmlwdGlvbic7XG4gIGxldCBkaXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgZGlzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dEFyZWEnKTtcbiAgZGlzY3JpcHRpb25EaXYuYXBwZW5kKGRpc2NyaXB0aW9uLCBkaXNjcmlwdGlvbklucHV0KTtcblxuICBsZXQgYnV0dG9uc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsZXQgYWRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGFkZC5jbGFzc0xpc3QuYWRkKCdhZGRUb2RvQnRuJyk7XG4gIGFkZC50ZXh0Q29udGVudCA9ICdBZGQnO1xuICBsZXQgY2FuY2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGNhbmNlbC5jbGFzc0xpc3QuYWRkKCdjYW5jZWxUb2RvQnRuJyk7XG4gIGNhbmNlbC50ZXh0Q29udGVudCA9ICdDYW5jZWwnO1xuICBidXR0b25zRGl2LmFwcGVuZChhZGQsIGNhbmNlbCk7XG5cbiAgZGl2LmFwcGVuZCh0YXNrTmFtZURpdiwgZHVlRGF0ZURpdiwgcHJpb3JpdHlEaXYsIGRpc2NyaXB0aW9uRGl2LCBidXR0b25zRGl2KTtcbiAgcmV0dXJuIGRpdjtcbn1cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0b2RvIiwiYWRkVG9kbyIsIm5ld1RvZG8iLCJwdXNoIiwiZGVsZXRlVG9kbyIsInRpdGxlIiwiZWxlbSIsInNwbGljZSIsImluZGV4T2YiLCJjb21wbGV0ZVRvZG8iLCJjb21wbGV0ZSIsInRvZG9OYW1lcyIsIm5hbWVzIiwiVG9kbyIsImR1ZURhdGUiLCJwcmlvcml0eSIsImRpc2NyaXB0aW9uIiwiaXNDb21wbGV0ZSIsImNoYW5nZVRpdGxlIiwibmV3VGl0bGUiLCJjaGFuZ2VEYXRlIiwiZGF0ZSIsImNoYW5nZVByaW9pcml0eSIsIm5ld1ByaW9yaXR5IiwiY2hhbmdlRGlzY3JpcHRpb24iLCJuZXdEaXNjcmlwdGlvbiIsImZldGNoQXJyIiwiYXJyIiwiZmluZCIsInByb2plY3QiLCJjcmVhdGVQcm9qZWN0VUkiLCJoZWFkZXIiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpY29uIiwiSW1hZ2UiLCJkaXZUZXh0IiwiYXBwZW5kIiwidG9kb3MiLCJmb3JFYWNoIiwiZGl2IiwiZGVsZXRlQnRuIiwicmVhbE5hbWUiLCJkYXRlTmFtZSIsInJlYWxEYXRlIiwicHJpb3JpdHlOYW1lIiwicmVhbFByaW9yaXR5IiwiY29tcGxldGVkIiwiZGlzY3JpcHRpb25OYW1lIiwicmVhbERpc2NyaXB0aW9uIiwidG9kb3NVSSIsInByb2plY3RzTGlicmFyeSIsInByb2plY3RzIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJuZXdGb3JtIiwiYWRkUHJvaiIsInJlbW92ZSIsImlucHV0Iiwic2V0QXR0cmlidXRlIiwiYnV0dG9uMSIsImJ1dHRvbjIiLCJjcmVhdGVOZXdQcm9qRm9ybSIsInJlcGxhY2VBZGRQcm9qIiwiaW5wdXREaXYiLCJjaGlsZHJlbiIsInZhbHVlIiwidW5kZWZpbmVkIiwibmV3UHJvaiIsInN0eWxlIiwiYm9yZGVyIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwicGFyZW50Tm9kZSIsInByb2plY3ROYW1lIiwicGFyZW50RWxlbWVudCIsInBhcmVudCIsIk9sZGNoaWxkcmVuIiwiQXJyYXkiLCJmcm9tIiwibmV3Q2hpbGRyZW4iLCJ0b2RvRm9ybSIsInRhc2tOYW1lRGl2IiwidGFza05hbWUiLCJ0YXNrTmFtZUlucHV0IiwiZHVlRGF0ZURpdiIsImR1ZURhdGVJbnB1dCIsInByaW9yaXR5RGl2IiwicHJpb3JpdHlJbnB1dCIsImxvdyIsIm1lZGl1bSIsImhpZ2giLCJkaXNjcmlwdGlvbkRpdiIsImRpc2NyaXB0aW9uSW5wdXQiLCJidXR0b25zRGl2IiwiY2FuY2VsIiwiY3JlYXRlVG9kb0Zvcm0iLCJib2R5IiwidmlzaWJpbGl0eSIsImluY2x1ZGVzIiwicHJvamVjdFBhcmVudCIsImN1cnJlbnRQcm9qIiwiY2hpbGQiLCJ0b2RvVGl0bGUiLCJwcm9qZWN0VGl0bGUiXSwic291cmNlUm9vdCI6IiJ9